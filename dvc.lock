schema: '2.0'
stages:
  train:
    cmd: python acoustic_anomaly_detection/train.py
    deps:
    - path: acoustic_anomaly_detection/dataset.py
      md5: 5ab20cbf324305015025034eaa55fd2c
      size: 2653
    - path: acoustic_anomaly_detection/model.py
      md5: 35ddf2086fd595efd8411ffb1d84a613
      size: 5072
    - path: acoustic_anomaly_detection/train.py
      md5: 9271473f5c254c8b185c3824c0d3ed48
      size: 2273
    - path: data/
      md5: 9f0c9c99e19b18399ef3644fbdea9688.dir
      size: 10123891428
      nfiles: 30987
    params:
      params.yaml:
        data:
          audio_dirs:
          - data/dev/fan
          - data/dev/pump
          - data/dev/slider
          - data/dev/valve
          - data/dev/ToyCar
          - data/dev/ToyConveyor
          train_split: 0.8
          fast_dev_run: false
        model:
          type: baseline_ae
          layers:
            hidden_size: 128
            latent_size: 8
        train:
          seed: 42
          epochs: 10
          batch_size: 32
          lr: 0.001
        transform:
          type: mel_spectrogram
          params:
            sr: 16000
            duration: 10
            n_fft: 1024
            hop_length: 512
            n_mels: 64
            n_mfcc: 40
    outs:
    - path: models/
      md5: bcaf0275b9cfddc55a289b5c54a3c1b0.dir
      size: 1135451970
      nfiles: 18
  evaluate:
    cmd: python acoustic_anomaly_detection/evaluate.py
    deps:
    - path: acoustic_anomaly_detection/dataset.py
      md5: 5ab20cbf324305015025034eaa55fd2c
      size: 2653
    - path: acoustic_anomaly_detection/evaluate.py
      md5: 31a62a4442baf38f6c6c19b38b6e898d
      size: 1276
    - path: acoustic_anomaly_detection/model.py
      md5: 35ddf2086fd595efd8411ffb1d84a613
      size: 5072
    - path: acoustic_anomaly_detection/train.py
      md5: 9271473f5c254c8b185c3824c0d3ed48
      size: 2273
    - path: data/
      md5: 9f0c9c99e19b18399ef3644fbdea9688.dir
      size: 10123891428
      nfiles: 30987
    - path: models/
      md5: bcaf0275b9cfddc55a289b5c54a3c1b0.dir
      size: 1135451970
      nfiles: 18
    params:
      params.yaml:
        model:
          type: baseline_ae
          layers:
            hidden_size: 128
            latent_size: 8
